Search.setIndex({"alltitles": {"AlertMate documentation": [[7, null]], "Contents:": [[7, null]], "Module contents": [[0, "module-app"], [1, "module-app.control"], [2, "module-app.model"], [3, "module-app.mqtt"], [4, "module-app.routes"], [5, "module-auth"]], "Submodules": [[0, "submodules"], [1, "submodules"], [2, "submodules"], [3, "submodules"], [4, "submodules"], [5, "submodules"]], "Subpackages": [[0, "subpackages"]], "app package": [[0, null]], "app.control package": [[1, null]], "app.control.device_controller module": [[1, "module-app.control.device_controller"]], "app.control.sensor_controller module": [[1, "module-app.control.sensor_controller"]], "app.control.user_controller module": [[1, "module-app.control.user_controller"]], "app.database module": [[0, "module-app.database"]], "app.influxdb_client module": [[0, "module-app.influxdb_client"]], "app.model package": [[2, null]], "app.model.device module": [[2, "module-app.model.device"]], "app.model.sensor_data module": [[2, "module-app.model.sensor_data"]], "app.model.user module": [[2, "module-app.model.user"]], "app.mqtt package": [[3, null]], "app.mqtt.mqtt_handler module": [[3, "module-app.mqtt.mqtt_handler"]], "app.routes package": [[4, null]], "app.routes.auth_routes module": [[4, "module-app.routes.auth_routes"]], "app.routes.device_routes module": [[4, "module-app.routes.device_routes"]], "app.routes.sensor_routes module": [[4, "module-app.routes.sensor_routes"]], "app.routes.user_routes module": [[4, "module-app.routes.user_routes"]], "auth package": [[5, null]], "auth.auth module": [[5, "module-auth.auth"]], "auth.handlers module": [[5, "module-auth.handlers"]], "auth.login module": [[5, "module-auth.login"]], "auth.oauth2_server module": [[5, "module-auth.oauth2_server"]], "auth.routes module": [[5, "module-auth.routes"]], "config module": [[6, null]], "run module": [[9, null]], "thingy91-api-brown": [[8, null]]}, "docnames": ["app", "app.control", "app.model", "app.mqtt", "app.routes", "auth", "config", "index", "modules", "run"], "envversion": {"sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1}, "filenames": ["app.rst", "app.control.rst", "app.model.rst", "app.mqtt.rst", "app.routes.rst", "auth.rst", "config.rst", "index.rst", "modules.rst", "run.rst"], "indexentries": {}, "objects": {"": [[0, 0, 0, "-", "app"], [5, 0, 0, "-", "auth"], [6, 0, 0, "-", "config"], [9, 0, 0, "-", "run"]], "app": [[1, 0, 0, "-", "control"], [0, 0, 0, "-", "database"], [0, 0, 0, "-", "influxdb_client"], [0, 1, 1, "", "init_app"], [2, 0, 0, "-", "model"], [3, 0, 0, "-", "mqtt"], [4, 0, 0, "-", "routes"]], "app.control": [[1, 1, 1, "", "add_sensor_data"], [1, 1, 1, "", "add_user"], [1, 1, 1, "", "associate_user_to_device"], [1, 1, 1, "", "clear_sensor_data"], [1, 1, 1, "", "clear_users"], [1, 0, 0, "-", "device_controller"], [1, 1, 1, "", "disassociate_device_from_user"], [1, 1, 1, "", "get_all_device_statuses"], [1, 1, 1, "", "get_all_sensor_data_for_device"], [1, 1, 1, "", "get_all_sensor_data_for_user"], [1, 1, 1, "", "get_all_sensor_data_for_user_device"], [1, 1, 1, "", "get_device_status"], [1, 1, 1, "", "get_sensor_data"], [1, 1, 1, "", "list_sensor_data"], [1, 1, 1, "", "list_users"], [1, 1, 1, "", "register_user"], [1, 1, 1, "", "remove_sensor_data"], [1, 1, 1, "", "remove_user"], [1, 0, 0, "-", "sensor_controller"], [1, 1, 1, "", "show_sensor_data"], [1, 1, 1, "", "show_user"], [1, 1, 1, "", "update_sensor_data"], [1, 1, 1, "", "update_user"], [1, 0, 0, "-", "user_controller"]], "app.control.device_controller": [[1, 1, 1, "", "associate_user_to_device"], [1, 1, 1, "", "check_device_status"], [1, 1, 1, "", "disassociate_device_from_user"], [1, 1, 1, "", "get_all_device_statuses"], [1, 1, 1, "", "get_all_sensor_data_for_device"], [1, 1, 1, "", "get_all_sensor_data_for_user_device"], [1, 1, 1, "", "get_device_status"]], "app.control.sensor_controller": [[1, 1, 1, "", "add_sensor_data"], [1, 1, 1, "", "clear_sensor_data"], [1, 1, 1, "", "get_all_sensor_data_for_user"], [1, 1, 1, "", "get_sensor_data"], [1, 1, 1, "", "get_sensor_data_for_user"], [1, 1, 1, "", "list_sensor_data"], [1, 1, 1, "", "query_influx_data"], [1, 1, 1, "", "remove_sensor_data"], [1, 1, 1, "", "show_sensor_data"], [1, 1, 1, "", "update_sensor_data"]], "app.control.user_controller": [[1, 1, 1, "", "add_user"], [1, 1, 1, "", "clear_users"], [1, 1, 1, "", "get_user_id_by_username"], [1, 1, 1, "", "list_users"], [1, 1, 1, "", "register_user"], [1, 1, 1, "", "remove_user"], [1, 1, 1, "", "show_user"], [1, 1, 1, "", "update_user"]], "app.database": [[0, 1, 1, "", "init_db"], [0, 1, 1, "", "reset_db"], [0, 1, 1, "", "setup_db"]], "app.model": [[2, 0, 0, "-", "device"], [2, 0, 0, "-", "sensor_data"], [2, 0, 0, "-", "user"]], "app.model.device": [[2, 2, 1, "", "Device"]], "app.model.device.Device": [[2, 3, 1, "", "id"], [2, 3, 1, "", "last_updated"], [2, 3, 1, "", "name"], [2, 3, 1, "", "sensordata"], [2, 3, 1, "", "status"], [2, 3, 1, "", "user"], [2, 3, 1, "", "user_id"]], "app.model.sensor_data": [[2, 2, 1, "", "SensorData"]], "app.model.sensor_data.SensorData": [[2, 3, 1, "", "appId"], [2, 3, 1, "", "data"], [2, 3, 1, "", "device"], [2, 3, 1, "", "device_id"], [2, 3, 1, "", "id"], [2, 3, 1, "", "messageType"], [2, 3, 1, "", "ts"], [2, 3, 1, "", "user"], [2, 3, 1, "", "user_id"]], "app.model.user": [[2, 2, 1, "", "User"]], "app.model.user.User": [[2, 4, 1, "", "check_password"], [2, 3, 1, "", "device"], [2, 3, 1, "", "email"], [2, 3, 1, "", "id"], [2, 3, 1, "", "password"], [2, 3, 1, "", "sensordata"], [2, 4, 1, "", "set_password"], [2, 3, 1, "", "username"]], "app.mqtt": [[3, 0, 0, "-", "mqtt_handler"], [3, 1, 1, "", "start_mqtt_listener"]], "app.mqtt.mqtt_handler": [[3, 1, 1, "", "insert_data"], [3, 1, 1, "", "on_connect"], [3, 1, 1, "", "on_message"], [3, 1, 1, "", "start_mqtt_listener"]], "app.routes": [[4, 0, 0, "-", "auth_routes"], [4, 0, 0, "-", "device_routes"], [4, 0, 0, "-", "sensor_routes"], [4, 1, 1, "", "setup_routes"], [4, 0, 0, "-", "user_routes"]], "app.routes.auth_routes": [[4, 1, 1, "", "setup_auth_routes"]], "app.routes.device_routes": [[4, 1, 1, "", "setup_device_routes"]], "app.routes.sensor_routes": [[4, 1, 1, "", "setup_sensor_routes"]], "app.routes.user_routes": [[4, 1, 1, "", "setup_user_routes"]], "auth": [[5, 2, 1, "", "AuthorizationCode"], [5, 2, 1, "", "OAuth2Session"], [5, 0, 0, "-", "auth"], [5, 0, 0, "-", "handlers"], [5, 0, 0, "-", "login"], [5, 0, 0, "-", "oauth2_server"], [5, 0, 0, "-", "routes"]], "auth.AuthorizationCode": [[5, 4, 1, "", "get_redirect_uri"], [5, 4, 1, "", "get_scope"]], "auth.OAuth2Session": [[5, 4, 1, "", "authorization_url"], [5, 4, 1, "", "fetch_token"], [5, 4, 1, "", "generate_jwt_token"]], "auth.auth": [[5, 2, 1, "", "OAuth2Session"]], "auth.auth.OAuth2Session": [[5, 4, 1, "", "authorization_url"], [5, 4, 1, "", "fetch_token"], [5, 4, 1, "", "generate_jwt_token"]], "auth.handlers": [[5, 1, 1, "", "authorize"], [5, 1, 1, "", "token"]], "auth.login": [[5, 1, 1, "", "handle_callback"], [5, 1, 1, "", "login_user"]], "auth.oauth2_server": [[5, 2, 1, "", "AuthorizationCode"], [5, 2, 1, "", "AuthorizationCodeGrant"], [5, 2, 1, "", "Client"], [5, 1, 1, "", "generate_access_token"], [5, 1, 1, "", "query_client"], [5, 1, 1, "", "save_token"]], "auth.oauth2_server.AuthorizationCode": [[5, 4, 1, "", "get_redirect_uri"], [5, 4, 1, "", "get_scope"]], "auth.oauth2_server.AuthorizationCodeGrant": [[5, 4, 1, "", "authenticate_user"], [5, 4, 1, "", "delete_authorization_code"], [5, 4, 1, "", "query_authorization_code"], [5, 4, 1, "", "save_authorization_code"]], "auth.oauth2_server.Client": [[5, 4, 1, "", "check_client_secret"], [5, 4, 1, "", "check_endpoint_auth_method"], [5, 4, 1, "", "check_grant_type"], [5, 4, 1, "", "check_redirect_uri"], [5, 4, 1, "", "check_response_type"], [5, 4, 1, "", "get_allowed_scope"], [5, 4, 1, "", "get_client_id"], [5, 4, 1, "", "get_default_redirect_uri"], [5, 4, 1, "", "get_redirect_uri"]], "run": [[9, 1, 1, "", "main"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "method", "Python method"]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:attribute", "4": "py:method"}, "terms": {"": 1, "0": 1, "1": 1, "200": 1, "30": 1, "400": 1, "404": 1, "500": 1, "A": [1, 5], "If": 1, "The": [0, 1, 2, 3, 4, 5], "access": 5, "activ": 1, "add": [1, 4], "add_sensor_data": [0, 1], "add_us": [0, 1], "against": 2, "aiohttp": [0, 3, 4], "all": [1, 4], "allow": 5, "an": [1, 3, 5], "api": [4, 7], "app": [7, 8], "appid": [0, 2], "applic": [0, 3, 4, 5, 9], "ar": 1, "arg": 1, "associ": [1, 3, 4, 5], "associate_user_to_devic": [0, 1], "async": [0, 1, 3, 5, 9], "asyncsess": [1, 3], "auth": [7, 8], "auth_rout": [0, 8], "authent": 5, "authenticate_us": [5, 8], "author": [5, 8], "authorization_base_url": 5, "authorization_cod": 5, "authorization_url": [5, 8], "authorizationcod": [5, 8], "authorizationcodegr": [5, 8], "base": [1, 2, 5], "been": 1, "belong": [1, 4], "between": 3, "bool": [2, 5], "broker": 3, "brown": 7, "callback": [3, 4, 5], "check": [1, 2, 5], "check_client_secret": [5, 8], "check_device_statu": [0, 1], "check_endpoint_auth_method": [5, 8], "check_grant_typ": [5, 8], "check_password": [0, 2], "check_redirect_uri": [5, 8], "check_response_typ": [5, 8], "class": [2, 5], "clear_sensor_data": [0, 1], "clear_us": [0, 1], "client": [3, 5, 8], "client_id": 5, "client_secret": 5, "client_secret_bas": 5, "clientmixin": 5, "clientsess": 5, "code": 5, "config": [7, 8], "configur": 4, "connack": 3, "connect": 3, "consid": 1, "contain": [1, 3, 5], "content": 8, "control": [0, 8], "creat": [1, 4], "creation": 1, "data": [0, 1, 2, 3, 4], "databas": [1, 3, 8], "default": 5, "delet": [1, 4, 5], "delete_authorization_cod": [5, 8], "detail": 1, "devic": [0, 1, 3, 4, 8], "device_control": [0, 8], "device_id": [0, 1, 2, 3, 4], "device_rout": [0, 8], "dict": [1, 3, 5], "dictionari": 5, "disassoci": [1, 4], "disassociate_device_from_us": [0, 1], "drop": 0, "email": [0, 2], "endpoint": 5, "ensur": 3, "entri": 9, "error": [1, 5], "except": 1, "exchang": 5, "execut": 1, "failur": 1, "fals": [2, 5], "fetch": 5, "fetch_token": [5, 8], "flag": 3, "found": [1, 5], "from": [1, 3, 4, 5], "function": [1, 3, 5], "gener": 5, "generate_access_token": [5, 8], "generate_jwt_token": [5, 8], "get": [1, 4, 5, 7], "get_all_device_status": [0, 1], "get_all_sensor_data_for_devic": [0, 1], "get_all_sensor_data_for_us": [0, 1], "get_all_sensor_data_for_user_devic": [0, 1], "get_allowed_scop": [5, 8], "get_client_id": [5, 8], "get_default_redirect_uri": [5, 8], "get_device_statu": [0, 1], "get_id": 4, "get_redirect_uri": [5, 8], "get_scop": [5, 8], "get_sensor_data": [0, 1], "get_sensor_data_for_us": [0, 1], "get_user_id_by_usernam": [0, 1], "grant": 5, "grant_typ": 5, "ha": 1, "handl": [1, 4, 5], "handle_callback": [5, 8], "handler": 8, "hash": 2, "help": 7, "how": 7, "http": 1, "i": [1, 3, 5, 7], "id": [0, 1, 2, 3, 4, 5], "inact": 1, "incom": 1, "indic": 1, "influxdb": 1, "influxdb_cli": 8, "inform": 5, "init_app": [0, 8], "init_db": [0, 8], "initi": [0, 9], "insert": 3, "insert_data": [0, 3], "instanc": [0, 3, 4], "int": 3, "intend": 7, "its": 1, "json": [1, 5], "json_respons": [1, 5], "jwt": 5, "kwarg": [2, 5], "last": 1, "last_upd": [0, 2], "list": [1, 4], "list_sensor_data": [0, 1], "list_us": [0, 1], "listen": [3, 9], "log": 4, "login": [4, 8], "login_us": [5, 8], "main": [8, 9], "match": [2, 5], "messag": [1, 3, 5], "messagetyp": [0, 2], "method": 5, "miss": 1, "model": [0, 8], "modul": [7, 8], "mqtt": [0, 8, 9], "mqtt_handler": [0, 8], "mqttmessag": 3, "msg": 3, "name": [0, 2], "new": [1, 4], "none": [0, 2, 3, 5, 9], "oauth2": 5, "oauth2_serv": 8, "oauth2request": 5, "oauth2sess": [5, 8], "object": [1, 5], "occur": 1, "on_connect": [0, 3], "on_messag": [0, 3], "one": 5, "oper": 1, "option": 5, "otherwis": [1, 2, 5], "packag": [7, 8], "paramet": [0, 1, 2, 3, 4, 5], "password": [0, 2, 5], "patch": 4, "path": 1, "payload": 3, "plain": 2, "point": 9, "post": 4, "privat": 3, "profil": 4, "proper": 3, "provid": [1, 5], "publish": 3, "queri": [1, 5], "query_authorization_cod": [5, 8], "query_cli": [5, 8], "query_influx_data": [0, 1], "rais": 1, "rc": 3, "receiv": [3, 5], "recreat": 0, "redirect": 5, "redirect_uri": 5, "regist": 4, "register_us": [0, 1], "registr": 1, "relat": 5, "remain": 1, "remove_sensor_data": [0, 1], "remove_us": [0, 1], "repres": 5, "request": [1, 5], "reset_db": [0, 8], "respons": [1, 3, 5], "response_typ": 5, "rest": 4, "restructuredtext": [], "result": [1, 3], "retriev": [1, 4], "return": [0, 1, 2, 3, 5, 9], "rout": [0, 8], "run": [7, 8], "save": 5, "save_authorization_cod": [5, 8], "save_token": [5, 8], "scope": 5, "second": 1, "secret": 5, "see": [], "sensor": [1, 3, 4], "sensor_control": [0, 8], "sensor_data": [0, 4, 8], "sensor_rout": [0, 8], "sensordata": [0, 2], "sent": 3, "server": [0, 3, 5], "session": [1, 3], "set": [2, 3, 4], "set_password": [0, 2], "setup": 0, "setup_auth_rout": [0, 4], "setup_db": [0, 8], "setup_device_rout": [0, 4], "setup_rout": [0, 4], "setup_sensor_rout": [0, 4], "setup_user_rout": [0, 4], "show_sensor_data": [0, 1], "show_us": [0, 1], "sourc": [0, 1, 2, 3, 4, 5, 9], "specif": [1, 4], "specifi": 1, "start": [3, 7, 9], "start_mqtt_listen": [0, 3], "state": 5, "statu": [0, 1, 2, 4], "status": 1, "store": [2, 5], "str": [2, 3, 5], "string": 5, "submodul": 8, "subpackag": 8, "success": [1, 5], "summari": 1, "syntax": [], "t": [0, 2], "text": 2, "thei": 1, "thi": [1, 5, 7], "thingy91": 7, "timestamp": 1, "token": [5, 8], "token_endpoint_auth_method": 5, "token_url": 5, "topic": 3, "true": [2, 5], "type": [0, 1, 2, 5], "understand": 7, "up": 4, "updat": [1, 4], "update_sensor_data": [0, 1], "update_us": [0, 1], "uri": 5, "url": 5, "us": [1, 5, 7], "user": [0, 1, 3, 4, 5, 8], "user_control": [0, 8], "user_id": [0, 1, 2, 4], "user_rout": [0, 8], "userdata": 3, "userdata_set": 3, "usernam": [0, 1, 2, 4, 5], "valid": 5, "verifi": 5, "web": [0, 1, 3, 4, 5, 9], "wecom": 7, "when": 3, "which": 3, "while": 1, "you": 7, "your": []}, "titles": ["app package", "app.control package", "app.model package", "app.mqtt package", "app.routes package", "auth package", "config module", "AlertMate documentation", "thingy91-api-brown", "run module"], "titleterms": {"alertm": 7, "api": 8, "app": [0, 1, 2, 3, 4], "auth": 5, "auth_rout": 4, "brown": 8, "config": 6, "content": [0, 1, 2, 3, 4, 5, 7], "control": 1, "databas": 0, "devic": 2, "device_control": 1, "device_rout": 4, "document": 7, "handler": 5, "influxdb_cli": 0, "login": 5, "model": 2, "modul": [0, 1, 2, 3, 4, 5, 6, 9], "mqtt": 3, "mqtt_handler": 3, "oauth2_serv": 5, "packag": [0, 1, 2, 3, 4, 5], "rout": [4, 5], "run": 9, "sensor_control": 1, "sensor_data": 2, "sensor_rout": 4, "submodul": [0, 1, 2, 3, 4, 5], "subpackag": 0, "thingy91": 8, "user": 2, "user_control": 1, "user_rout": 4}})